import{S as ae,i as re,s as ie,e as y,k as I,t as T,c as g,a as w,m as P,h as A,d as h,b as f,g as K,J as r,K as z,n as le,L as ue,x as fe,y as pe,z as ve,M as q,N as de,O as ce,j as he,r as _e,p as me,C as be,P as ye}from"../chunks/index-95492fa5.js";function se(s,e,o){const t=s.slice();return t[8]=e[o],t}function ne(s){let e,o;return{c(){e=y("span"),o=T("\u{1F434}"),this.h()},l(t){e=g(t,"SPAN",{class:!0,role:!0,"aria-label":!0});var n=w(e);o=A(n,"\u{1F434}"),n.forEach(h),this.h()},h(){f(e,"class","icon svelte-1vh61eb"),f(e,"role","img"),f(e,"aria-label","horse face facing left")},m(t,n){K(t,e,n),r(e,o)},d(t){t&&h(e)}}}function oe(s){var p,C;let e,o,t,n=s[8].value+"",a,l,c,E,i=s[8].x===((p=s[0])==null?void 0:p.x)&&s[8].y===((C=s[0])==null?void 0:C.y)&&ne();function _(){return s[3](s[8])}return{c(){e=y("button"),i&&i.c(),o=I(),t=y("span"),a=T(n),l=I(),this.h()},l(v){e=g(v,"BUTTON",{class:!0});var u=w(e);i&&i.l(u),o=P(u),t=g(u,"SPAN",{class:!0});var m=w(t);a=A(m,n),m.forEach(h),l=P(u),u.forEach(h),this.h()},h(){f(t,"class","label svelte-1vh61eb"),f(e,"class","cell svelte-1vh61eb")},m(v,u){K(v,e,u),i&&i.m(e,null),r(e,o),r(e,t),r(t,a),r(e,l),c||(E=z(e,"click",_),c=!0)},p(v,u){var m,O;s=v,s[8].x===((m=s[0])==null?void 0:m.x)&&s[8].y===((O=s[0])==null?void 0:O.y)?i||(i=ne(),i.c(),i.m(e,o)):i&&(i.d(1),i=null)},d(v){v&&h(e),i&&i.d(),c=!1,E()}}}function ge(s){let e,o=s[2],t=[];for(let n=0;n<o.length;n+=1)t[n]=oe(se(s,o,n));return{c(){e=y("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=g(n,"DIV",{class:!0});var a=w(e);for(let l=0;l<t.length;l+=1)t[l].l(a);a.forEach(h),this.h()},h(){f(e,"class","grid svelte-1vh61eb")},m(n,a){K(n,e,a);for(let l=0;l<t.length;l+=1)t[l].m(e,null)},p(n,[a]){if(a&7){o=n[2];let l;for(l=0;l<o.length;l+=1){const c=se(n,o,l);t[l]?t[l].p(c,a):(t[l]=oe(c),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=o.length}},i:le,o:le,d(n){n&&h(e),ue(t,n)}}}function ke(s,e){return`${s},${e}`}function Ee(s,e,o){let{selected:t=null}=e,{onCellClick:n}=e;const a="ABCDEFGH".split(""),l="12345678".split("").reverse();function c(p){const C={};for(let v=0;v<p;v++)for(let u=0;u<p;u++){const m=a[u]+l[v];C[ke(u,v)]={x:u,y:v,value:m}}return C}let E=c(8);const i=Object.values(E),_=p=>n(p);return s.$$set=p=>{"selected"in p&&o(0,t=p.selected),"onCellClick"in p&&o(1,n=p.onCellClick)},[t,n,i,_]}class Ce extends ae{constructor(e){super(),re(this,e,Ee,ge,ie,{selected:0,onCellClick:1})}}function we(s){let e,o,t,n,a,l,c,E,i,_,p,C,v,u,m,O,S,d,k,G,L,D,x,R,Q,U=JSON.stringify(s[1],null,2)+"",F,W,V,X,Y;return t=new Ce({props:{selected:s[0],onCellClick:s[7]}}),{c(){e=y("main"),o=y("div"),fe(t.$$.fragment),n=I(),a=y("div"),l=y("div"),c=y("label"),E=T("Instructions"),i=I(),_=y("input"),p=I(),C=y("button"),v=T("Go"),u=I(),m=y("button"),O=T("Reset"),S=I(),d=y("div"),k=y("label"),G=T("Delay (ms)"),L=I(),D=y("input"),x=I(),R=y("pre"),Q=T("      "),F=T(U),W=T(`
    `),this.h()},l(b){e=g(b,"MAIN",{class:!0});var B=w(e);o=g(B,"DIV",{class:!0});var M=w(o);pe(t.$$.fragment,M),M.forEach(h),n=P(B),a=g(B,"DIV",{class:!0});var N=w(a);l=g(N,"DIV",{class:!0});var H=w(l);c=g(H,"LABEL",{for:!0,class:!0});var Z=w(c);E=A(Z,"Instructions"),Z.forEach(h),i=P(H),_=g(H,"INPUT",{id:!0,type:!0}),H.forEach(h),p=P(N),C=g(N,"BUTTON",{});var $=w(C);v=A($,"Go"),$.forEach(h),u=P(N),m=g(N,"BUTTON",{});var ee=w(m);O=A(ee,"Reset"),ee.forEach(h),S=P(N),d=g(N,"DIV",{class:!0});var J=w(d);k=g(J,"LABEL",{for:!0,class:!0});var te=w(k);G=A(te,"Delay (ms)"),te.forEach(h),L=P(J),D=g(J,"INPUT",{id:!0,type:!0}),J.forEach(h),x=P(N),R=g(N,"PRE",{class:!0});var j=w(R);Q=A(j,"      "),F=A(j,U),W=A(j,`
    `),j.forEach(h),N.forEach(h),B.forEach(h),this.h()},h(){f(o,"class","board svelte-1os48tp"),f(c,"for","instructions"),f(c,"class","svelte-1os48tp"),f(_,"id","instructions"),f(_,"type","text"),f(l,"class","svelte-1os48tp"),f(k,"for","delay"),f(k,"class","svelte-1os48tp"),f(D,"id","delay"),f(D,"type","number"),f(d,"class","svelte-1os48tp"),f(R,"class","history svelte-1os48tp"),f(a,"class","controls svelte-1os48tp"),f(e,"class","svelte-1os48tp")},m(b,B){K(b,e,B),r(e,o),ve(t,o,null),r(e,n),r(e,a),r(a,l),r(l,c),r(c,E),r(l,i),r(l,_),q(_,s[3]),r(a,p),r(a,C),r(C,v),r(a,u),r(a,m),r(m,O),r(a,S),r(a,d),r(d,k),r(k,G),r(d,L),r(d,D),q(D,s[2]),r(a,x),r(a,R),r(R,Q),r(R,F),r(R,W),V=!0,X||(Y=[de(Ne.call(null,_)),z(_,"input",s[8]),z(C,"click",s[6]),z(m,"click",s[5]),z(D,"input",s[9])],X=!0)},p(b,[B]){const M={};B&1&&(M.selected=b[0]),t.$set(M),B&8&&_.value!==b[3]&&q(_,b[3]),B&4&&ce(D.value)!==b[2]&&q(D,b[2]),(!V||B&2)&&U!==(U=JSON.stringify(b[1],null,2)+"")&&he(F,U)},i(b){V||(_e(t.$$.fragment,b),V=!0)},o(b){me(t.$$.fragment,b),V=!1},d(b){b&&h(e),be(t),X=!1,ye(Y)}}}function Be(s){return new Promise(e=>setTimeout(e,s))}function Ne(s){const e=()=>s.value=s.value.toUpperCase();s.addEventListener("input",e,{capture:!0}),e()}function De(s,e,o){const t=[1,2,3,4,5,6,7,8].reverse(),n="ABCDEFGH".split(""),a=t.map(d=>n.map(k=>k+d));let l=null,c=[],E=500,i="";const _={A:[-1,-2],B:[1,-2],C:[2,-1],D:[2,1],E:[1,2],F:[-1,2],G:[-2,1],H:[-2,-1]};function p(d){o(0,l=d)}function C(){o(0,l=null),o(1,c=[])}async function v(){for(let d of i){const k=_[d];if(l){const G=await u(k),L=a[G.y][G.x];o(1,c=[...c,L])}}}async function u(d){E&&await Be(E);const[k,G]=d,L={x:l.x+k,y:l.y+G};return o(0,l=L),L}const m=({x:d,y:k})=>p({x:d,y:k});function O(){i=this.value,o(3,i)}function S(){E=ce(this.value),o(2,E)}return[l,c,E,i,p,C,v,m,O,S]}class Te extends ae{constructor(e){super(),re(this,e,De,we,ie,{})}}export{Te as default};
